Whiskers("modules.product",{code:function(e,t,n){"use strict";var i=this;return i.b(n=n||""),i.b('<div class="bound '),i.b(i.v(i.f("layout",e,t,0))),i.b('"> '),i.s(i.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(n.rp("<module_header0",e,t,""))}),e.pop()),i.b(' <div class="product_list"> '),i.b(i.rp("<products1",e,t,"")),i.b(" "),i.s(i.f("data",e,t,1),e,t,0,132,144,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" "),n.b(n.rp("<modal2",e,t,"")),n.b(" ")}),e.pop()),i.b(" </div> "),i.s(i.f("hasMore",e,t,1),e,t,0,173,373,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),n.b(n.v(n.d("translations.show_more",e,t,0))),n.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),i.b(" </div>"),i.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<products1":{name:"products",partials:{},subs:{}},"<modal2":{name:"modal",partials:{},subs:{}}},subs:{}}),Whiskers("modules.sidekick_product",{code:function(e,t,n){"use strict";var i=this;return i.b(n=n||""),i.b('<div class="bound '),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("entity_type",e,t,0))),i.b(" "),i.b(i.v(i.f("layout",e,t,0))),i.b('"> '),i.s(i.f("header_data",e,t,1),e,t,0,72,90,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(n.rp("<module_header0",e,t,""))}),e.pop()),i.b(' <div class="module_body"> <div class="product_list one ad"> '),i.s(i.f("data",e,t,1),e,t,0,176,1053,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' <div class="product"> <div class="product-thumb"> <div class="boundingBox"> '),n.s(n.f("noscript",e,t,1),e,t,1,0,0,"")||(n.b('<img class="logo no-src" data-src="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("alt_text",e,t,0))),n.b('">')),n.b(" "),n.s(n.f("noscript",e,t,1),e,t,0,358,432,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<noscript><img class="logo" src="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("alt_text",e,t,0))),n.b('"></noscript>')}),e.pop()),n.b(' </div> <div class="product-button"></div> </div> <div class="details"> <h2 class="title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h2> <div class="product-button"></div> <ul class="desc"> '),n.s(n.f("product_lines",e,t,1),e,t,0,621,635,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<li>"),n.b(n.v(n.d(".",e,t,0))),n.b("</li>")}),e.pop()),n.b(" </ul> "),n.s(n.f("more_lines",e,t,1),e,t,0,675,769,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<button class="modal_info button transparent ada-el-focus">'),n.b(n.v(n.d("translations.more_info",e,t,0))),n.b("</button>")}),e.pop()),n.b(' </div> <ul class="desc_mobile '),n.s(n.f("more_lines",e,t,1),e,t,0,830,838,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("hasModal")}),e.pop()),n.b('"> '),n.s(n.f("product_lines",e,t,1),e,t,0,874,888,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<li>"),n.b(n.v(n.d(".",e,t,0))),n.b("</li>")}),e.pop()),n.b(" "),n.s(n.f("specs",e,t,1),e,t,0,917,1018,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("specifications",e,t,1),e,t,0,936,999,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li><span class="tech_title">'),n.b(n.v(n.f("title",e,t,0))),n.b(":</span> "),n.b(n.v(n.f("value",e,t,0))),n.b("</li> ")}),e.pop())}),e.pop()),n.b(" </ul> </div> "),n.b(n.rp("<modal1",e,t,"")),n.b(" ")}),e.pop()),i.b(' </div> <div class="ad-container"> '),i.b(i.t(i.f("rectangleAd",e,t,0))),i.b(" "),i.b(i.t(i.f("mobileAd",e,t,0))),i.b(" </div> </div> </div>"),i.fl()},partials:{"<module_header0":{name:"module_header",partials:{},subs:{}},"<modal1":{name:"modal",partials:{},subs:{}}},subs:{}}),Whiskers("entities.products",{code:function(e,t,n){"use strict";var i=this;return i.b(n=n||""),i.s(i.f("product_data",e,t,1),e,t,0,17,1072,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' <div class="product"> <div class="product-thumb"> <div class="boundingBox"> '),n.s(n.f("noscript",e,t,1),e,t,1,0,0,"")||(n.b('<img class="logo no-src" data-src="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("alt_text",e,t,0))),n.b('">')),n.b(" "),n.s(n.f("noscript",e,t,1),e,t,0,199,273,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<noscript><img class="logo" src="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("alt_text",e,t,0))),n.b('"></noscript>')}),e.pop()),n.b(' </div> <div class="product-button '),n.s(n.f("more_lines",e,t,1),e,t,0,336,344,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("hasModal")}),e.pop()),n.b('"></div> </div> <div class="details" role="dialog" aria-labelledby="dialogLabel_'),n.b(n.v(n.f("id",e,t,0))),n.b('" aria-describedby="dialogDesc_'),n.b(n.v(n.f("id",e,t,0))),n.b('"> <h2 class="title" id="dialogLabel_'),n.b(n.v(n.f("id",e,t,0))),n.b('">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h2> <div class="product-button"></div> <ul class="desc" id="dialogDesc_'),n.b(n.v(n.f("id",e,t,0))),n.b('"> '),n.s(n.f("product_lines",e,t,1),e,t,0,636,652,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <li>"),n.b(n.v(n.d(".",e,t,0))),n.b("</li> ")}),e.pop()),n.b(' </ul> <button class="modal_info button transparent ada-el-focus'),n.s(n.f("more_lines",e,t,1),e,t,1,0,0,"")||n.b(" no_modal"),n.b('">'),n.b(n.v(n.d("translations.show_more",e,t,0))),n.b('</button> </div> <ul class="desc_mobile '),n.s(n.f("more_lines",e,t,1),e,t,0,856,864,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("hasModal")}),e.pop()),n.b('"> '),n.s(n.f("product_lines",e,t,1),e,t,0,900,916,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" <li>"),n.b(n.v(n.d(".",e,t,0))),n.b("</li> ")}),e.pop()),n.b(" "),n.s(n.f("specs",e,t,1),e,t,0,945,1048,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" "),n.s(n.f("specifications",e,t,1),e,t,0,965,1028,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <li><span class="tech_title">'),n.b(n.v(n.f("title",e,t,0))),n.b(":</span> "),n.b(n.v(n.f("value",e,t,0))),n.b("</li> ")}),e.pop()),n.b(" ")}),e.pop()),n.b(" </ul> </div> ")}),e.pop()),i.fl()},partials:{},subs:{}}),Whiskers("entities.product_modal",{code:function(e,t,n){"use strict";var i=this;return i.b(n=n||""),i.b('<div class="product-tech"> <button class="close_modal ada-el-focus" aria-label="close"></button> <div class="product-modal"> <p class="title tablet">'),i.b(i.v(i.f("title",e,t,0))),i.b('</p> <div class="product-thumb"> <div class="boundingBox"> '),i.s(i.f("noscript",e,t,1),e,t,1,0,0,"")||(i.b('<img class="logo no-src" data-src="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('">')),i.b(" "),i.s(i.f("noscript",e,t,1),e,t,0,303,358,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<noscript><img class="logo" src="'),n.b(n.v(n.f("thumb",e,t,0))),n.b('"></noscript>')}),e.pop()),i.b(' </div> <div class="product-button"></div> </div> <div class="details" role="dialog" aria-labelledby="dialogTitle_'),i.b(i.v(i.f("id",e,t,0))),i.b('" aria-describedby="dialogRead_'),i.b(i.v(i.f("id",e,t,0))),i.b('"> <h2 class="title desktop">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h2> <div class="desc_modal"> <h3 class="special" id="dialogTitle_'),i.b(i.v(i.f("id",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.special_features",e,t,0))),i.b('</h3> <ul class="desc" id="dialogRead_'),i.b(i.v(i.f("id",e,t,0))),i.b('"> '),i.s(i.f("tech_lines",e,t,1),e,t,0,736,752,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" <li>"),n.b(n.v(n.d(".",e,t,0))),n.b("</li> ")}),e.pop()),i.b(" </ul> "),i.s(i.f("spec_truth",e,t,1),e,t,0,789,848,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<h3 class="tech_spec">'),n.b(n.v(n.d("translations.technical_specs",e,t,0))),n.b("</h3>")}),e.pop()),i.b(" "),i.s(i.f("specs",e,t,1),e,t,0,874,1073,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' <div class="spec_col"> <h2 class="spec_type">'),n.b(n.v(n.f("title",e,t,0))),n.b("</h2> "),n.s(n.f("specifications",e,t,1),e,t,0,954,1046,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' <ul class="tech_list"> <li><span class="tech_title">'),n.b(n.v(n.f("title",e,t,0))),n.b(":</span> "),n.b(n.v(n.f("value",e,t,0))),n.b("</li> </ul> ")}),e.pop()),n.b(" </div> ")}),e.pop()),i.b(" </div> </div> </div> </div>"),i.fl()},partials:{},subs:{}}),Whiskers("shared.productbutton",{code:function(e,t,n){"use strict";var i=this;return i.b(n=n||""),i.b('<div class="purchase_product"> '),i.s(i.f("single_link",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="buy '),i.s(i.f("retail_links",e,t,1),e,t,1,0,0,"")||i.b("no_flyout"),i.b('" data-convert="buy"> <ul> '),i.s(i.f("retail_links",e,t,1),e,t,0,151,415,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' <li><a href="'),n.b(n.v(n.f("content_url",e,t,0))),n.b('" '),n.b(n.rp("<href_target0",e,t,"")),n.b(' class="ada-el-focus'),n.s(n.f("age_gate",e,t,1),e,t,0,231,241,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" age-gated")}),e.pop()),n.b(' skip-text-styles" '),n.s(n.f("age_gate",e,t,1),e,t,0,286,310,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-age="'),n.b(n.v(n.f("age_gate",e,t,0))),n.b('"')}),e.pop()),n.b(' data-retailer="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,358,386,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.d("ping.static",e,t,0))),n.b('"')}),e.pop()),n.b(">"),n.b(n.v(n.f("title",e,t,0))),n.b("</a></li> ")}),e.pop()),i.b(' </ul> </div> <button class="button large green ada-el-focus '),i.s(i.f("retail_links",e,t,1),e,t,1,0,0,"")||i.b("clear"),i.b('" '),i.s(i.f("custom_button_styling",e,t,1),e,t,0,560,767,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' style="'),n.s(n.f("text_color",e,t,1),e,t,0,583,605,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("color:"),n.b(n.v(n.f("text_color",e,t,0))),n.b("; ")}),e.pop()),n.b(" "),n.s(n.f("background_color",e,t,1),e,t,0,642,675,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("background:"),n.b(n.v(n.f("background_color",e,t,0))),n.b("; ")}),e.pop()),n.b(" "),n.s(n.f("border_color",e,t,1),e,t,0,714,748,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("border:1px solid "),n.b(n.v(n.f("border_color",e,t,0))),n.b(";")}),e.pop()),n.b('" ')}),e.pop()),i.b("> "),i.s(i.f("purchase_cta",e,t,1),e,t,0,812,828,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(n.v(n.f("purchase_cta",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("retail_links",e,t,1),e,t,0,881,898,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(n.v(n.f("pre_order_now",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("retail_links",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("coming_soon",e,t,0))),i.b(" ")),i.b(" </button> ")),i.b(" "),i.s(i.f("single_link",e,t,1),e,t,0,1027,1638,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(' <a class="button large green ada-el-focus skip-text-styles" href="'),n.b(n.v(n.f("content_url",e,t,0))),n.b('" '),n.b(n.rp("<href_target1",e,t,"")),n.b(" "),n.s(n.f("age_gate",e,t,1),e,t,0,1141,1183,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' class="age-gated" data-age="'),n.b(n.v(n.f("age_gate",e,t,0))),n.b('"')}),e.pop()),n.b(' data-retailer="'),n.b(n.v(n.f("title",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,1231,1259,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' data-ping="'),n.b(n.v(n.d("ping.static",e,t,0))),n.b('"')}),e.pop()),n.b(" "),n.s(n.f("custom_button_styling",e,t,1),e,t,0,1295,1502,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' style="'),n.s(n.f("text_color",e,t,1),e,t,0,1318,1340,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("color:"),n.b(n.v(n.f("text_color",e,t,0))),n.b("; ")}),e.pop()),n.b(" "),n.s(n.f("background_color",e,t,1),e,t,0,1377,1410,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("background:"),n.b(n.v(n.f("background_color",e,t,0))),n.b("; ")}),e.pop()),n.b(" "),n.s(n.f("border_color",e,t,1),e,t,0,1449,1483,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("border:1px solid "),n.b(n.v(n.f("border_color",e,t,0))),n.b(";")}),e.pop()),n.b('" ')}),e.pop()),n.b("> "),n.s(n.f("purchase_cta",e,t,1),e,t,0,1547,1563,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(n.v(n.f("purchase_cta",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("purchase_cta",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.f("pre_order_now",e,t,0))),n.b(" </a> ")}),e.pop()),i.b(" </div>"),i.fl()},partials:{"<href_target0":{name:"href_target",partials:{},subs:{}},"<href_target1":{name:"href_target",partials:{},subs:{}}},subs:{}}),function(e){"use strict";var t=e.Disney,n=e.Backbone,i=e._,r=e.Whiskers;t.ProductButtonView=n.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){return"undefined"==typeof e?this._flyoutVisible:(this._flyoutVisible=e,void this.renderFlyout())},initialize:function(e){this.options=e||{},this.translations=e.translations,this.age_gate=e.age_gate,this.custom_button_styling=e.custom_button_styling,this.render()},render:function(){var e=this,t=e.model.retail_links||[],n=i.extend(e.model,e.translations);n.age_gate=this.age_gate,n.custom_button_styling=this.custom_button_styling,1===t.length&&(n.single_link=t[0]),this.$el.html(r.shared.productbutton.render(n,{href_target:r.partials.href_target})),this.$el.find("button").on("click",function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active"),e.find("a").first().trigger("focus")}})}(this),function(e){"use strict";var t=e.Grill,n=e.Disney,i=n.Style.breakpoints,r=i.midHigh.toString(),a=e.Whiskers,o=e.Backbone,s=e.jQuery,l=e._,c=t.ModuleView.extend({breakpoints:r,required_template_sets:["module_header"],template:a.modules.product,included_components:{products:a.entities.products,modal:a.entities.product_modal},initialize:function(e){this.options=e||{};var t=this.model.get("translations"),n={special_features:"Special Features",technical_specs:"Technical Specs"};l.defaults(t,n),l.extend(this,{translations:t}),this.itemCount=0,this.two_button_margin=10},render:function(){l.extend(this,{itemCount:this.model.get("data").length,allProducts:this.model.get("data")}),this.allProducts.length>4?(this.productData=this.allProducts.slice(0,4),this.stashedData=this.allProducts.slice(4)):this.productData=this.allProducts,this.defaultLayout=2===this.itemCount||this.itemCount>3||this.sidekick?"left":"right",n.rtl&&(this.defaultLayout="left"===this.defaultLayout?"right":"left"),this.layout=this.model.get("style_options").layout?this.model.get("style_options").layout:this.defaultLayout;var e=l.extend({hasMore:this.itemCount>4,title:this.model.get("title"),desc:this.model.get("desc"),layout:this.layout,product_data:this.productData},this.options.ads.helpers(this.model.toJSON(),this.getAdPosition()),this.model);this.$el.html(this.template.render(e,this.ctx_additions())),this.updateButton(this.itemCount>4)},resize:function(){var e=o.Resize.width()>=i.midHigh;this.options.ads.restore(),e?this.$(".desc_mobile, .modal_info").removeClass("fade"):this.$(".product-tech, .product").removeClass("fade")},ready:function(){this.buttonViews=[];var t=this,i=this.$(".product_list .product"),r=this.$(".product_list"),a=this.$(".product-tech").length;switch(i.length){case 1:r.addClass("one");break;case 3:r.addClass("three");break;default:r.addClass("two")}this.$(".product_list .product").each(function(e,i){t.$(i).find(".product-button").each(function(i,r){var a=new n.ProductButtonView({el:r,model:t.model.get("data")[e],translations:t.model.get("translations"),age_gate:t.model.get("age_gate"),custom_button_styling:t.model.get("style_options").custom_button_styling});a.on("change",t.buttonChanged,t),t.buttonViews.push(a)})}),this.$(".product-tech").each(function(e,i){t.$(i).find(".product-button").each(function(i,r){var a=new n.ProductButtonView({el:r,model:t.model.get("data")[e],age_gate:t.model.get("age_gate"),custom_button_styling:t.model.get("style_options").custom_button_styling});a.on("change",t.buttonChanged,t),t.buttonViews.push(a)})});for(var o=0;o<a;o++)this.$(".modal_info").eq(o).addClass(""+o);e.addEventListener("keydown",function(e){27===e.keyCode&&t.modalRemove(e)})},updateButton:function(e){var t=this.$el;t.toggleClass("has-more",e)},modalDisplay:function(e){var t=o.Resize.width()>=i.midHigh,n=this.$(".product-tech").length,r=null,a=this;if(t){for(this.$(".product_list .product").addClass("fade"),r=0;r<n;r++)if(s(e.currentTarget).hasClass(r)){var l=this.$(".product-tech").eq(r);l.addClass("fade"),l.find(".close_modal").attr("data-target",r),a.modalSetFocus(l)}}else for(r=0;r<n;r++)s(e.currentTarget).hasClass(r)&&this.$(".desc_mobile").eq(r).addClass("fade")},modalRemove:function(e){var t=s(e.target).data("target");this.$(".product-tech, .product, .desc_mobile").removeClass("fade"),this.$(".buy").removeClass("active"),void 0!==t&&this.$(".modal_info."+t).trigger("focus")},modalSetFocus:function(e){s(e).on(s(e).selectTransitionEnd(),function(){s(e).find(".close_modal").trigger("focus")})},modalKeydown:function(e){var t=9;if(e.keyCode===t){var n=s(e.currentTarget),i=n.closest(".product-tech"),r=s('.ada-el-focus,[tabindex="0"]',i),a=e.shiftKey?r.first():r.last(),o=e.shiftKey?r.last():r.first();n.get(0)===a.get(0)&&(e.preventDefault(),o.trigger("focus"))}},getAdPosition:function(){if(!this.options.cds)return this.options.ads&&this.options.ads.setAdPosition&&this.options.ads.setAdPosition(this.model)},events:{"click .modal_info":"modalDisplay","click .close_modal":"modalRemove","click .product.fade":"modalRemove","click .show_more_container":function(e){e.preventDefault(),this.buttonViews=[];var t=this,i=this.productData,r=this.stashedData,o=this.$(".product_list");r.length>4?(i=r.slice(0,4),r=r.slice(4)):(i=r,r=[]);var c=l.extend({hasMore:r.length>0,product_data:i}),u=a.entities.products.render(c);s(u).insertAfter(o.find(".product").last()),this.$(".product_list .product").slice(1).each(function(e,i){t.$(i).find(".product-button").slice(0).each(function(i,r){var a=new n.ProductButtonView({el:r,model:t.model.get("data")[e],age_gate:t.model.get("age_gate"),custom_button_styling:t.model.get("style_options").custom_button_styling});a.on("change",t.buttonChanged,t),t.buttonViews.push(a)})});for(var d=4;d<i.length+4;d++)this.$(".modal_info").eq(d).addClass(""+d);this.$el.loadLazyImages(),this.updateButton(!1)},"keydown .product-tech .ada-el-focus,[tabindex='0']":"modalKeydown"}});c.register("product",{}),c.register("sidekick_product",{sidekick:!0,style_classes:["sidekick"],template:a.modules.sidekick_product})}(this);